{"ast":null,"code":"var _jsxFileName = \"/home/jordi/Documentos/work/majo-floral-design/frontend/src/views/ProductsListScreen/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Table, Button, Row, Col, Container, Form, FormControl } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loader from \"../../components/Loader\";\nimport Message from \"../../components/Message\";\nimport Paginator from \"../../components/Paginator\";\nimport ProductPanel from \"../../components/ProductPanel\";\nimport { listProducts, registerProduct, deleteProduct } from \"../../actions/product_actions\";\nimport { PRODUCT_REGISTER_RESET, PRODUCT_DELETE_RESET } from \"../../constants/product_contants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProductListScreen({\n  history\n}) {\n  _s();\n\n  const [actualPage, setActualPage] = useState(1);\n  const dispatch = useDispatch();\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const [query, setQuery] = useState(\"all\");\n  const productRegister = useSelector(state => state.productRegister);\n  const {\n    loading: loadingCreate,\n    success: successCreate,\n    product: productCreate,\n    error: errorCreate\n  } = productRegister;\n  const productDelete = useSelector(state => state.productDelete);\n  const {\n    loading: loadingDelete,\n    success: successDelete,\n    message: messageDelete,\n    error: errorDelete\n  } = productDelete;\n  const productList = useSelector(state => state.productList);\n  const {\n    loading: loadingList,\n    error: errorList,\n    products,\n    pages\n  } = productList;\n  useEffect(() => {\n    dispatch({\n      type: PRODUCT_REGISTER_RESET\n    });\n    dispatch({\n      type: PRODUCT_DELETE_RESET\n    });\n    !userInfo ? history.push(\"/\") : dispatch(listProducts(query, actualPage));\n    successCreate && history.push(`/admin/productos/${productCreate._id}/editar/`);\n  }, [dispatch, history, userInfo, successCreate, productCreate, successDelete, actualPage]);\n\n  const createProductHandler = () => {\n    dispatch(registerProduct());\n  };\n\n  const deleteProductHandler = id => {\n    window.confirm(\"¿Segur@ de querer eliminar este producto?\") && dispatch(deleteProduct(id));\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n\n    if (query == \"\") {\n      setQuery(\"all\");\n      dispatch(listProducts(\"all\", 1));\n    } else {\n      dispatch(listProducts(query, 1));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      marginTop: \"15vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [loadingDelete && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 29\n        }, this), errorDelete && /*#__PURE__*/_jsxDEV(Message, {\n          variant: \"danger\",\n          children: errorDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Productos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          className: \"text-right\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"py-3\",\n            onClick: createProductHandler,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), \" Crear producto\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mt-4 ml-1\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            inline: true,\n            onSubmit: submitHandler,\n            children: [/*#__PURE__*/_jsxDEV(FormControl, {\n              type: \"text\",\n              placeholder: \"Buscar producto\",\n              onChange: e => setQuery(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"outline-success\",\n              children: \"Buscar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [loadingList ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this) : errorList ? /*#__PURE__*/_jsxDEV(Message, {\n          variant: \"danger\",\n          children: errorList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Row, {\n          className: \"w-100 m-0\",\n          children: products === null || products === void 0 ? void 0 : products.map(product => /*#__PURE__*/_jsxDEV(Col, {\n            xs: 12,\n            className: \"d-flex justify-content-center m-0\",\n            children: /*#__PURE__*/_jsxDEV(ProductPanel, {\n              product: product,\n              children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n                to: `/admin/productos/${product._id}/editar/`,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"primary\",\n                  className: \"btn-sm mr-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"danger\",\n                className: \"btn-sm\",\n                onClick: () => deleteProductHandler(product._id),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-trash\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this) // <Table striped bordered hover responsive className=\"table-sm mt-3\">\n        //   <thead>\n        //     <tr>\n        //       <th>ID</th>\n        //       <th>Nombre</th>\n        //       <th>Precio</th>\n        //       <th>Descripción</th>\n        //       <th>¿Esta en stock?</th>\n        //       <th>Categoría</th>\n        //       <th></th>\n        //     </tr>\n        //   </thead>\n        //   <tbody>\n        //     {products?.map((product) => (\n        //       <tr key={product._id}>\n        //         <td>{product._id}</td>\n        //         <td>{product.name}</td>\n        //         <td>${product.price}</td>\n        //         <td>{product.description.substr(0, 10)}</td>\n        //         <td className=\"text-center\">\n        //           {product.inStock == true ? (\n        //             <i\n        //               className=\"fas fa-check\"\n        //               style={{ color: \"green\" }}\n        //             ></i>\n        //           ) : (\n        //             <i className=\"fas fa-times-circle text-danger\"></i>\n        //           )}\n        //         </td>\n        //         <td>{product.categorie[\"name\"]}</td>\n        //         <td>\n        // <LinkContainer\n        //   to={`/admin/productos/${product._id}/editar/`}\n        // >\n        //   <Button variant=\"light\" className=\"btn-sm\">\n        //     <i className=\"fas fa-edit\"></i>\n        //   </Button>\n        // </LinkContainer>\n        // <Button\n        //   variant=\"danger\"\n        //   className=\"btn-sm\"\n        //   onClick={() => deleteProductHandler(product._id)}\n        // >\n        //   <i className=\"fas fa-trash\"></i>\n        // </Button>\n        //         </td>\n        //       </tr>\n        //     ))}\n        //   </tbody>\n        // </Table>\n        , /*#__PURE__*/_jsxDEV(Paginator, {\n          pages: pages,\n          changePage: value => setActualPage(value),\n          pageToSearch: actualPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProductListScreen, \"QXQM984TBcl8tUuG7wj3jCHs+l8=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = ProductListScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductListScreen\");","map":{"version":3,"sources":["/home/jordi/Documentos/work/majo-floral-design/frontend/src/views/ProductsListScreen/index.js"],"names":["React","useState","useEffect","LinkContainer","Table","Button","Row","Col","Container","Form","FormControl","useDispatch","useSelector","Loader","Message","Paginator","ProductPanel","listProducts","registerProduct","deleteProduct","PRODUCT_REGISTER_RESET","PRODUCT_DELETE_RESET","ProductListScreen","history","actualPage","setActualPage","dispatch","userLogin","state","userInfo","query","setQuery","productRegister","loading","loadingCreate","success","successCreate","product","productCreate","error","errorCreate","productDelete","loadingDelete","successDelete","message","messageDelete","errorDelete","productList","loadingList","errorList","products","pages","type","push","_id","createProductHandler","deleteProductHandler","id","window","confirm","submitHandler","e","preventDefault","marginTop","target","value","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport {\n  Table,\n  Button,\n  Row,\n  Col,\n  Container,\n  Form,\n  FormControl,\n} from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loader from \"../../components/Loader\";\nimport Message from \"../../components/Message\";\nimport Paginator from \"../../components/Paginator\";\nimport ProductPanel from \"../../components/ProductPanel\";\n\nimport {\n  listProducts,\n  registerProduct,\n  deleteProduct,\n} from \"../../actions/product_actions\";\nimport {\n  PRODUCT_REGISTER_RESET,\n  PRODUCT_DELETE_RESET,\n} from \"../../constants/product_contants\";\nexport default function ProductListScreen({ history }) {\n  const [actualPage, setActualPage] = useState(1);\n\n  const dispatch = useDispatch();\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n  const [query, setQuery] = useState(\"all\");\n\n  const productRegister = useSelector((state) => state.productRegister);\n  const {\n    loading: loadingCreate,\n    success: successCreate,\n    product: productCreate,\n    error: errorCreate,\n  } = productRegister;\n  const productDelete = useSelector((state) => state.productDelete);\n  const {\n    loading: loadingDelete,\n    success: successDelete,\n    message: messageDelete,\n    error: errorDelete,\n  } = productDelete;\n\n  const productList = useSelector((state) => state.productList);\n  const {\n    loading: loadingList,\n    error: errorList,\n    products,\n    pages,\n  } = productList;\n  useEffect(() => {\n    dispatch({ type: PRODUCT_REGISTER_RESET });\n    dispatch({ type: PRODUCT_DELETE_RESET });\n\n    !userInfo ? history.push(\"/\") : dispatch(listProducts(query, actualPage));\n    successCreate &&\n      history.push(`/admin/productos/${productCreate._id}/editar/`);\n  }, [\n    dispatch,\n    history,\n    userInfo,\n    successCreate,\n    productCreate,\n    successDelete,\n    actualPage,\n  ]);\n\n  const createProductHandler = () => {\n    dispatch(registerProduct());\n  };\n\n  const deleteProductHandler = (id) => {\n    window.confirm(\"¿Segur@ de querer eliminar este producto?\") &&\n      dispatch(deleteProduct(id));\n  };\n  const submitHandler = (e) => {\n    e.preventDefault();\n    if (query == \"\") {\n      setQuery(\"all\");\n      dispatch(listProducts(\"all\", 1));\n    } else {\n      dispatch(listProducts(query, 1));\n    }\n  };\n  return (\n    <Container style={{ marginTop: \"15vh\" }}>\n      <main>\n        <>\n          {loadingDelete && <Loader />}\n          {errorDelete && <Message variant=\"danger\">{errorDelete}</Message>}\n        </>\n        <Row>\n          <Col>\n            <h1>Productos</h1>\n          </Col>\n          <Col className=\"text-right\">\n            <Button className=\"py-3\" onClick={createProductHandler}>\n              <i className=\"fas fa-plus\"></i> Crear producto\n            </Button>\n          </Col>\n        </Row>\n        <Row className=\"mt-4 ml-1\">\n          <Col>\n            <Form inline onSubmit={submitHandler}>\n              <FormControl\n                type=\"text\"\n                placeholder=\"Buscar producto\"\n                onChange={(e) => setQuery(e.target.value)}\n              ></FormControl>\n              <Button type=\"submit\" variant=\"outline-success\">\n                Buscar\n              </Button>\n            </Form>\n          </Col>\n        </Row>\n        <div>\n          {loadingList ? (\n            <Loader />\n          ) : errorList ? (\n            <Message variant=\"danger\">{errorList}</Message>\n          ) : (\n            <Row className=\"w-100 m-0\">\n              {products?.map((product) => (\n                <Col xs={12} className=\"d-flex justify-content-center m-0\">\n                  <ProductPanel product={product}>\n                    <LinkContainer\n                      to={`/admin/productos/${product._id}/editar/`}\n                    >\n                      <Button variant=\"primary\" className=\"btn-sm mr-1\">\n                        <i className=\"fas fa-edit\"></i>\n                      </Button>\n                    </LinkContainer>\n                    <Button\n                      variant=\"danger\"\n                      className=\"btn-sm\"\n                      onClick={() => deleteProductHandler(product._id)}\n                    >\n                      <i className=\"fas fa-trash\"></i>\n                    </Button>\n                  </ProductPanel>\n                </Col>\n              ))}\n            </Row>\n            // <Table striped bordered hover responsive className=\"table-sm mt-3\">\n            //   <thead>\n            //     <tr>\n            //       <th>ID</th>\n            //       <th>Nombre</th>\n            //       <th>Precio</th>\n            //       <th>Descripción</th>\n            //       <th>¿Esta en stock?</th>\n            //       <th>Categoría</th>\n            //       <th></th>\n            //     </tr>\n            //   </thead>\n            //   <tbody>\n            //     {products?.map((product) => (\n            //       <tr key={product._id}>\n            //         <td>{product._id}</td>\n            //         <td>{product.name}</td>\n            //         <td>${product.price}</td>\n            //         <td>{product.description.substr(0, 10)}</td>\n            //         <td className=\"text-center\">\n            //           {product.inStock == true ? (\n            //             <i\n            //               className=\"fas fa-check\"\n            //               style={{ color: \"green\" }}\n            //             ></i>\n            //           ) : (\n            //             <i className=\"fas fa-times-circle text-danger\"></i>\n            //           )}\n            //         </td>\n            //         <td>{product.categorie[\"name\"]}</td>\n            //         <td>\n            // <LinkContainer\n            //   to={`/admin/productos/${product._id}/editar/`}\n            // >\n            //   <Button variant=\"light\" className=\"btn-sm\">\n            //     <i className=\"fas fa-edit\"></i>\n            //   </Button>\n            // </LinkContainer>\n            // <Button\n            //   variant=\"danger\"\n            //   className=\"btn-sm\"\n            //   onClick={() => deleteProductHandler(product._id)}\n            // >\n            //   <i className=\"fas fa-trash\"></i>\n            // </Button>\n            //         </td>\n            //       </tr>\n            //     ))}\n            //   </tbody>\n            // </Table>\n          )}\n          <Paginator\n            pages={pages}\n            changePage={(value) => setActualPage(value)}\n            pageToSearch={actualPage}\n          ></Paginator>\n        </div>\n      </main>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}