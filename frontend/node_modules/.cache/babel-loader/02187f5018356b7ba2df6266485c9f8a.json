{"ast":null,"code":"import _slicedToArray from\"C:/Users/dell/Documents/Proyects/Majo Floral Design/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Button,Image,Row,Col,Form}from\"react-bootstrap\";import Product from\"../../components/Product\";import Loader from\"../../components/Loader\";import Message from\"../../components/Message\";import Paginator from\"../../components/Paginator\";import Header from\"../../components/Header\";import{listCategories}from\"../../actions/categorie_actions\";import{listProducts}from\"../../actions/product_actions\";import{LinkContainer}from\"react-router-bootstrap\";import\"./styles.css\";import AOS from\"aos\";import\"aos/dist/aos.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CatalogueScreen(){var dispatch=useDispatch();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),actualPage=_useState2[0],setActualPage=_useState2[1];var _useState3=useState(\"all\"),_useState4=_slicedToArray(_useState3,2),categorie=_useState4[0],setCategorie=_useState4[1];var categorieList=useSelector(function(state){return state.categorieList;});var errorCategories=categorieList.error,loadingCategories=categorieList.loading,successCategories=categorieList.success,categories=categorieList.categories;var _useState5=useState(\"all\"),_useState6=_slicedToArray(_useState5,2),orderPrice=_useState6[0],setOrderPrice=_useState6[1];var productList=useSelector(function(state){return state.productList;});var loadingList=productList.loading,errorList=productList.error,products=productList.products,pages=productList.pages;useEffect(function(){dispatch(listProducts(\"all\",actualPage,categorie,orderPrice));},[categorie,dispatch,actualPage,orderPrice]);useEffect(function(){dispatch(listCategories());AOS.init({duration:1000});},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"5vh\",overflowX:\"hidden\"},children:[/*#__PURE__*/_jsx(Header,{customClass:\"catalogueHeader\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-light\",style:{fontSize:\"5rem\",letterSpacing:\"2px\",fontFamily:\"Dancing Script\"},children:\"Cat\\xE1logo\"})}),/*#__PURE__*/_jsxs(Row,{style:{marginTop:\"5vh\"},\"data-aos\":\"fade-down\",children:[/*#__PURE__*/_jsxs(Col,{md:3,className:\"text-dark categories-list \",style:{paddingLeft:\"30px\"},children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Filtrar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"py-2 d-block\",children:\"Categor\\xEDas\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",custom:true,onChange:function onChange(e){setCategorie(e.target.value);setActualPage(1);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",selected:categorie===\"all\"?true:false,children:\"Todo\"}),loadingCategories?/*#__PURE__*/_jsx(Loader,{}):errorCategories?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorCategories}):/*#__PURE__*/_jsx(_Fragment,{children:categories===null||categories===void 0?void 0:categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{value:category._id,selected:categorie===category._id?true:false,children:category.name});})})]}),/*#__PURE__*/_jsx(\"span\",{className:\"py-2 d-block\",children:\"Precio\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",custom:true,onChange:function onChange(e){setOrderPrice(e.target.value);setActualPage(1);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",selected:orderPrice===\"all\"?true:false,children:\"Ninguno\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Max\",selected:orderPrice===\"Max\"?true:false,children:\"Mayor a menor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Min\",selected:orderPrice===\"Min\"?true:false,children:\"Menor a mayor\"})]})]}),/*#__PURE__*/_jsx(Col,{md:9,children:/*#__PURE__*/_jsxs(\"div\",{className:\" p-2\",style:{minHeight:\"70vh\"},children:[/*#__PURE__*/_jsx(Row,{className:\"products-row\",children:loadingList?/*#__PURE__*/_jsx(Loader,{}):errorList?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorList}):(products===null||products===void 0?void 0:products.length)==0?/*#__PURE__*/_jsx(Message,{variant:\"primary\",style:{width:\"100%\"},children:\"No hay productos para esta categor\\xEDa\"}):products===null||products===void 0?void 0:products.map(function(product){return/*#__PURE__*/_jsx(LinkContainer,{to:\"/producto/\".concat(product._id,\"/\"),style:{cursor:\"pointer\"},children:/*#__PURE__*/_jsx(Col,{xs:6,md:4,children:/*#__PURE__*/_jsx(Product,{product:product})})});})}),/*#__PURE__*/_jsx(Paginator,{pages:pages,changePage:function changePage(value){return setActualPage(value);},pageToSearch:actualPage})]})})]})]});}","map":{"version":3,"sources":["C:/Users/dell/Documents/Proyects/Majo Floral Design/backend/frontend/src/views/CatalogueScreen/index.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Button","Image","Row","Col","Form","Product","Loader","Message","Paginator","Header","listCategories","listProducts","LinkContainer","AOS","CatalogueScreen","dispatch","actualPage","setActualPage","categorie","setCategorie","categorieList","state","errorCategories","error","loadingCategories","loading","successCategories","success","categories","orderPrice","setOrderPrice","productList","loadingList","errorList","products","pages","init","duration","marginBottom","overflowX","fontSize","letterSpacing","fontFamily","marginTop","paddingLeft","e","target","value","map","category","_id","name","minHeight","length","width","product","cursor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { Button, Image, Row, Col, Form } from \"react-bootstrap\";\r\nimport Product from \"../../components/Product\";\r\nimport Loader from \"../../components/Loader\";\r\nimport Message from \"../../components/Message\";\r\nimport Paginator from \"../../components/Paginator\";\r\nimport Header from \"../../components/Header\";\r\n\r\nimport { listCategories } from \"../../actions/categorie_actions\";\r\nimport { listProducts } from \"../../actions/product_actions\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\n\r\nimport \"./styles.css\";\r\n\r\nimport AOS from \"aos\";\r\nimport \"aos/dist/aos.css\";\r\n\r\nexport default function CatalogueScreen() {\r\n  const dispatch = useDispatch();\r\n  const [actualPage, setActualPage] = useState(1);\r\n  const [categorie, setCategorie] = useState(\"all\");\r\n  const categorieList = useSelector((state) => state.categorieList);\r\n  const {\r\n    error: errorCategories,\r\n    loading: loadingCategories,\r\n    success: successCategories,\r\n    categories,\r\n  } = categorieList;\r\n\r\n  const [orderPrice, setOrderPrice] = useState(\"all\");\r\n  const productList = useSelector((state) => state.productList);\r\n  const {\r\n    loading: loadingList,\r\n    error: errorList,\r\n    products,\r\n    pages,\r\n  } = productList;\r\n  useEffect(() => {\r\n    dispatch(listProducts(\"all\", actualPage, categorie, orderPrice));\r\n  }, [categorie, dispatch, actualPage, orderPrice]);\r\n  useEffect(() => {\r\n    dispatch(listCategories());\r\n    AOS.init({\r\n      duration: 1000,\r\n    });\r\n  }, []);\r\n  return (\r\n    <div style={{ marginBottom: \"5vh\", overflowX: \"hidden\" }}>\r\n      <Header customClass={\"catalogueHeader\"}>\r\n        <h1\r\n          className=\"text-light\"\r\n          style={{\r\n            fontSize: \"5rem\",\r\n            letterSpacing: \"2px\",\r\n            fontFamily: \"Dancing Script\",\r\n          }}\r\n        >\r\n          Catálogo\r\n        </h1>\r\n      </Header>\r\n      <Row style={{ marginTop: \"5vh\" }} data-aos={\"fade-down\"}>\r\n        <Col\r\n          md={3}\r\n          className=\"text-dark categories-list \"\r\n          style={{ paddingLeft: \"30px\" }}\r\n        >\r\n          <h5>Filtrar</h5>\r\n          <span className=\"py-2 d-block\">Categorías</span>\r\n          <Form.Control\r\n            as=\"select\"\r\n            custom\r\n            onChange={(e) => {\r\n              setCategorie(e.target.value);\r\n              setActualPage(1);\r\n            }}\r\n          >\r\n            <option value={\"all\"} selected={categorie === \"all\" ? true : false}>\r\n              Todo\r\n            </option>\r\n            {loadingCategories ? (\r\n              <Loader />\r\n            ) : errorCategories ? (\r\n              <Message variant=\"danger\">{errorCategories}</Message>\r\n            ) : (\r\n              <>\r\n                {categories?.map((category) => (\r\n                  <option\r\n                    value={category._id}\r\n                    selected={categorie === category._id ? true : false}\r\n                  >\r\n                    {category.name}\r\n                  </option>\r\n                ))}\r\n              </>\r\n            )}\r\n          </Form.Control>\r\n          <span className=\"py-2 d-block\">Precio</span>\r\n          <Form.Control\r\n            as=\"select\"\r\n            custom\r\n            onChange={(e) => {\r\n              setOrderPrice(e.target.value);\r\n              setActualPage(1);\r\n            }}\r\n          >\r\n            <option\r\n              value={\"all\"}\r\n              selected={orderPrice === \"all\" ? true : false}\r\n            >\r\n              Ninguno\r\n            </option>\r\n            <option\r\n              value={\"Max\"}\r\n              selected={orderPrice === \"Max\" ? true : false}\r\n            >\r\n              Mayor a menor\r\n            </option>\r\n            <option\r\n              value={\"Min\"}\r\n              selected={orderPrice === \"Min\" ? true : false}\r\n            >\r\n              Menor a mayor\r\n            </option>\r\n          </Form.Control>\r\n        </Col>\r\n        <Col md={9}>\r\n          <div className=\" p-2\" style={{ minHeight: \"70vh\" }}>\r\n            <Row className=\"products-row\">\r\n              {loadingList ? (\r\n                <Loader />\r\n              ) : errorList ? (\r\n                <Message variant=\"danger\">{errorList}</Message>\r\n              ) : products?.length == 0 ? (\r\n                <Message variant=\"primary\" style={{ width: \"100%\" }}>\r\n                  No hay productos para esta categoría\r\n                </Message>\r\n              ) : (\r\n                products?.map((product) => (\r\n                  <LinkContainer\r\n                    to={`/producto/${product._id}/`}\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    <Col xs={6} md={4}>\r\n                      <Product product={product} />\r\n                    </Col>\r\n                  </LinkContainer>\r\n                ))\r\n              )}\r\n            </Row>\r\n            <Paginator\r\n              pages={pages}\r\n              changePage={(value) => setActualPage(value)}\r\n              pageToSearch={actualPage}\r\n            ></Paginator>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}