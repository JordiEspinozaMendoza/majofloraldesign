{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dell\\\\Documents\\\\Proyects\\\\Majo Floral Design\\\\backend\\\\frontend\\\\src\\\\views\\\\ProductsListScreen\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Table, Button, Row, Col, Container } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loader from \"../../components/Loader\";\nimport Message from \"../../components/Message\";\nimport Paginator from \"../../components/Paginator\";\nimport ProductPanel from \"../../components/ProductPanel\";\nimport { listProducts, registerProduct, deleteProduct } from \"../../actions/product_actions\";\nimport { PRODUCT_REGISTER_RESET, PRODUCT_DELETE_RESET } from \"../../constants/product_contants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProductListScreen({\n  history\n}) {\n  _s();\n\n  const [actualPage, setActualPage] = useState(1);\n  const dispatch = useDispatch();\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const productRegister = useSelector(state => state.productRegister);\n  const {\n    loading: loadingCreate,\n    success: successCreate,\n    product: productCreate,\n    error: errorCreate\n  } = productRegister;\n  const productDelete = useSelector(state => state.productDelete);\n  const {\n    loading: loadingDelete,\n    success: successDelete,\n    message: messageDelete,\n    error: errorDelete\n  } = productDelete;\n  const productList = useSelector(state => state.productList);\n  const {\n    loading: loadingList,\n    error: errorList,\n    products,\n    pages\n  } = productList;\n  useEffect(() => {\n    dispatch({\n      type: PRODUCT_REGISTER_RESET\n    });\n    dispatch({\n      type: PRODUCT_DELETE_RESET\n    });\n    !userInfo ? history.push(\"/\") : dispatch(listProducts(\"all\", actualPage));\n    successCreate && history.push(`/admin/productos/${productCreate._id}/editar/`);\n  }, [dispatch, history, userInfo, successCreate, productCreate, successDelete, actualPage]);\n\n  const createProductHandler = () => {\n    dispatch(registerProduct());\n  };\n\n  const deleteProductHandler = id => {\n    window.confirm(\"¿Segur@ de querer eliminar este producto?\") && dispatch(deleteProduct(id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      marginTop: \"15vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [loadingDelete && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }, this), errorDelete && /*#__PURE__*/_jsxDEV(Message, {\n          variant: \"danger\",\n          children: errorDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Productos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          className: \"text-right\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"py-3\",\n            onClick: createProductHandler,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), \" Crear producto\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [loadingList ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this) : errorList ? /*#__PURE__*/_jsxDEV(Message, {\n          variant: \"danger\",\n          children: errorList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: products === null || products === void 0 ? void 0 : products.map(product => /*#__PURE__*/_jsxDEV(ProductPanel, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this))\n        }, void 0, false) // <Table striped bordered hover responsive className=\"table-sm mt-3\">\n        //   <thead>\n        //     <tr>\n        //       <th>ID</th>\n        //       <th>Nombre</th>\n        //       <th>Precio</th>\n        //       <th>Descripción</th>\n        //       <th>¿Esta en stock?</th>\n        //       <th>Categoría</th>\n        //       <th></th>\n        //     </tr>\n        //   </thead>\n        //   <tbody>\n        //     {products?.map((product) => (\n        //       <tr key={product._id}>\n        //         <td>{product._id}</td>\n        //         <td>{product.name}</td>\n        //         <td>${product.price}</td>\n        //         <td>{product.description.substr(0, 10)}</td>\n        //         <td className=\"text-center\">\n        //           {product.inStock == true ? (\n        //             <i\n        //               className=\"fas fa-check\"\n        //               style={{ color: \"green\" }}\n        //             ></i>\n        //           ) : (\n        //             <i className=\"fas fa-times-circle text-danger\"></i>\n        //           )}\n        //         </td>\n        //         <td>{product.categorie[\"name\"]}</td>\n        //         <td>\n        //           <LinkContainer\n        //             to={`/admin/productos/${product._id}/editar/`}\n        //           >\n        //             <Button variant=\"light\" className=\"btn-sm\">\n        //               <i className=\"fas fa-edit\"></i>\n        //             </Button>\n        //           </LinkContainer>\n        //           <Button\n        //             variant=\"danger\"\n        //             className=\"btn-sm\"\n        //             onClick={() => deleteProductHandler(product._id)}\n        //           >\n        //             <i className=\"fas fa-trash\"></i>\n        //           </Button>\n        //         </td>\n        //       </tr>\n        //     ))}\n        //   </tbody>\n        // </Table>\n        , /*#__PURE__*/_jsxDEV(Paginator, {\n          pages: pages,\n          changePage: value => setActualPage(value),\n          pageToSearch: actualPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProductListScreen, \"7fJbPG5a+BsES56JZ6y6BNUbb04=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = ProductListScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductListScreen\");","map":{"version":3,"sources":["C:/Users/dell/Documents/Proyects/Majo Floral Design/backend/frontend/src/views/ProductsListScreen/index.js"],"names":["React","useState","useEffect","LinkContainer","Table","Button","Row","Col","Container","useDispatch","useSelector","Loader","Message","Paginator","ProductPanel","listProducts","registerProduct","deleteProduct","PRODUCT_REGISTER_RESET","PRODUCT_DELETE_RESET","ProductListScreen","history","actualPage","setActualPage","dispatch","userLogin","state","userInfo","productRegister","loading","loadingCreate","success","successCreate","product","productCreate","error","errorCreate","productDelete","loadingDelete","successDelete","message","messageDelete","errorDelete","productList","loadingList","errorList","products","pages","type","push","_id","createProductHandler","deleteProductHandler","id","window","confirm","marginTop","map","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Table, Button, Row, Col, Container } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loader from \"../../components/Loader\";\r\nimport Message from \"../../components/Message\";\r\nimport Paginator from \"../../components/Paginator\";\r\nimport ProductPanel from \"../../components/ProductPanel\";\r\n\r\nimport {\r\n  listProducts,\r\n  registerProduct,\r\n  deleteProduct,\r\n} from \"../../actions/product_actions\";\r\nimport {\r\n  PRODUCT_REGISTER_RESET,\r\n  PRODUCT_DELETE_RESET,\r\n} from \"../../constants/product_contants\";\r\nexport default function ProductListScreen({ history }) {\r\n  const [actualPage, setActualPage] = useState(1);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const productRegister = useSelector((state) => state.productRegister);\r\n  const {\r\n    loading: loadingCreate,\r\n    success: successCreate,\r\n    product: productCreate,\r\n    error: errorCreate,\r\n  } = productRegister;\r\n  const productDelete = useSelector((state) => state.productDelete);\r\n  const {\r\n    loading: loadingDelete,\r\n    success: successDelete,\r\n    message: messageDelete,\r\n    error: errorDelete,\r\n  } = productDelete;\r\n\r\n  const productList = useSelector((state) => state.productList);\r\n  const {\r\n    loading: loadingList,\r\n    error: errorList,\r\n    products,\r\n    pages,\r\n  } = productList;\r\n  useEffect(() => {\r\n    dispatch({ type: PRODUCT_REGISTER_RESET });\r\n    dispatch({ type: PRODUCT_DELETE_RESET });\r\n\r\n    !userInfo ? history.push(\"/\") : dispatch(listProducts(\"all\", actualPage));\r\n    successCreate &&\r\n      history.push(`/admin/productos/${productCreate._id}/editar/`);\r\n  }, [\r\n    dispatch,\r\n    history,\r\n    userInfo,\r\n    successCreate,\r\n    productCreate,\r\n    successDelete,\r\n    actualPage,\r\n  ]);\r\n\r\n  const createProductHandler = () => {\r\n    dispatch(registerProduct());\r\n  };\r\n\r\n  const deleteProductHandler = (id) => {\r\n    window.confirm(\"¿Segur@ de querer eliminar este producto?\") &&\r\n      dispatch(deleteProduct(id));\r\n  };\r\n\r\n  return (\r\n    <Container style={{ marginTop: \"15vh\" }}>\r\n      <main>\r\n        <>\r\n          {loadingDelete && <Loader />}\r\n          {errorDelete && <Message variant=\"danger\">{errorDelete}</Message>}\r\n        </>\r\n        <Row>\r\n          <Col>\r\n            <h1>Productos</h1>\r\n          </Col>\r\n          <Col className=\"text-right\">\r\n            <Button className=\"py-3\" onClick={createProductHandler}>\r\n              <i className=\"fas fa-plus\"></i> Crear producto\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          {loadingList ? (\r\n            <Loader />\r\n          ) : errorList ? (\r\n            <Message variant=\"danger\">{errorList}</Message>\r\n          ) : (\r\n            <>\r\n            {products?.map((product)=>(\r\n              <ProductPanel></ProductPanel>\r\n            ))}\r\n            </>\r\n            // <Table striped bordered hover responsive className=\"table-sm mt-3\">\r\n            //   <thead>\r\n            //     <tr>\r\n            //       <th>ID</th>\r\n            //       <th>Nombre</th>\r\n            //       <th>Precio</th>\r\n            //       <th>Descripción</th>\r\n            //       <th>¿Esta en stock?</th>\r\n            //       <th>Categoría</th>\r\n            //       <th></th>\r\n            //     </tr>\r\n            //   </thead>\r\n            //   <tbody>\r\n            //     {products?.map((product) => (\r\n            //       <tr key={product._id}>\r\n            //         <td>{product._id}</td>\r\n            //         <td>{product.name}</td>\r\n            //         <td>${product.price}</td>\r\n            //         <td>{product.description.substr(0, 10)}</td>\r\n            //         <td className=\"text-center\">\r\n            //           {product.inStock == true ? (\r\n            //             <i\r\n            //               className=\"fas fa-check\"\r\n            //               style={{ color: \"green\" }}\r\n            //             ></i>\r\n            //           ) : (\r\n            //             <i className=\"fas fa-times-circle text-danger\"></i>\r\n            //           )}\r\n            //         </td>\r\n            //         <td>{product.categorie[\"name\"]}</td>\r\n            //         <td>\r\n            //           <LinkContainer\r\n            //             to={`/admin/productos/${product._id}/editar/`}\r\n            //           >\r\n            //             <Button variant=\"light\" className=\"btn-sm\">\r\n            //               <i className=\"fas fa-edit\"></i>\r\n            //             </Button>\r\n            //           </LinkContainer>\r\n            //           <Button\r\n            //             variant=\"danger\"\r\n            //             className=\"btn-sm\"\r\n            //             onClick={() => deleteProductHandler(product._id)}\r\n            //           >\r\n            //             <i className=\"fas fa-trash\"></i>\r\n            //           </Button>\r\n            //         </td>\r\n            //       </tr>\r\n            //     ))}\r\n            //   </tbody>\r\n            // </Table>\r\n          )}\r\n          <Paginator\r\n            pages={pages}\r\n            changePage={(value) => setActualPage(value)}\r\n            pageToSearch={actualPage}\r\n          ></Paginator>\r\n        </Row>\r\n      </main>\r\n    </Container>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}